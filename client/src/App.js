import React from 'react'
import Home from './components/Home';
import Register from './components/Register'
import PrivateRoutes from './utils/PrivateRoutes';
import Login from './components/Login'
import Trial from './components/Trial'
import Logout from './components/Logout'
import Landing from './components/Landing'
import ProblemName from './components/ProblemName'
import Tag from './components/Tag'
import { useLocation } from 'react-router-dom';
import Problem from './components/Problem'
import CodeEditor from './components/CodeEditor';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom'
import Navbar  from './components/Navbar';
import Func from './components/Func';
import DiscussContent from './components/DiscussContent'; 
import Profile from './components/Profile'
import Disucss from './components/Discuss'
import Myposts from './components/Myposts';
import Contests from './components/Contests'
import ContestsShow from './components/ContestsShow';
import ContestProblems from './components/ContestProblems';
import DockerNode from './components/DockerNode'
export default function App() {

  const location = useLocation();

  const queryParams = new URLSearchParams(location.search);
  const tag = queryParams.get('tag');
  const problem_name = queryParams.get('problem_name')
  const discuss = queryParams.get('discuss');
  const contestId = queryParams.get('contestId');
  const problemname = queryParams.get('problem')
 
  
  // console.log(` tag is ${tag}`)

  return (
    
    <div className="App">
      <Navbar/>
          <Routes>
            <Route element={<PrivateRoutes />}>
                <Route element={<Home/>} path="/home" exact/>
                <Route path="/problem" element={<Problem />}/>
                <Route path="/tags" element={<Tag tag={tag} problem_name={problem_name}/>}/>
                <Route path="/problem_name" element={<ProblemName problem_name={problem_name}/>}/>
                <Route path="/code" element={<CodeEditor />} />
                <Route path="/discuss" element={<Disucss discuss={discuss}/>} />
                <Route path="/discuss-content" element={<DiscussContent discuss={discuss} />} />
                <Route path = "/profile" element={<Profile /> }/>
                <Route path='/my-posts' element={<Myposts />}/>
                <Route path='/contests' element={<Contests/>} />
                <Route path='/contests/:dynamic' element={<ContestsShow contestId = {contestId}/>} />
                <Route path='/ContestProblemName' element = {<ContestProblems name = {problemname} />} />
               
            </Route>
            <Route path = "/" element={<Landing />} exact/>
            <Route element={<Register/>} path="/register" />
            <Route element={<Login />} path="/login" />
            <Route element={<Trial />} path ="/trial" />
            <Route element={<Logout/>} path="/logout" />
            <Route path='/searching' element={<Func /> } />
            <Route path='/dockernode' element ={<DockerNode />} />

          </Routes>
      
    </div>
  );
}
